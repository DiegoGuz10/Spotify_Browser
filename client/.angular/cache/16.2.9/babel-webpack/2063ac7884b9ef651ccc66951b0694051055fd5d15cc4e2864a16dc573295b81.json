{"ast":null,"code":"import { ArtistData } from '../data/artist-data';\nimport { AlbumData } from '../data/album-data';\nimport { TrackData } from '../data/track-data';\nimport { ProfileData } from '../data/profile-data';\nimport { TrackFeature } from '../data/track-feature';\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class SpotifyService {\n  constructor(http) {\n    this.http = http;\n    this.expressBaseUrl = 'http://localhost:8888';\n  }\n  sendRequestToExpress(endpoint) {\n    return firstValueFrom(this.http.get(this.expressBaseUrl + endpoint)).then(response => {\n      return response;\n    }, err => {\n      return err;\n    });\n  }\n  aboutMe() {\n    return this.sendRequestToExpress('/me').then(data => {\n      return new ProfileData(data);\n    });\n  }\n  searchFor(category, resource) {\n    let resources;\n    let encodedResource = encodeURIComponent(resource);\n    return this.sendRequestToExpress('/search' + '/' + category + '/' + encodedResource).then(data => {\n      if (category == 'artist') {\n        resources = data['artists']['items'].map(element => {\n          return new ArtistData(element);\n        });\n      } else if (category == 'album') {\n        resources = data['albums']['items'].map(element => {\n          return new AlbumData(element);\n        });\n      } else if (category == 'track') {\n        resources = data['tracks']['items'].map(element => {\n          return new TrackData(element);\n        });\n      }\n      return resources;\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  /*\n    The following get methods make requests to the Spotify API using the appropriate endpoints, then format the data into\n    an appropriate form to return it. If an error arises, it returns the error data instead and logs it to the console.\n    NOTE: the endpoints provided on the Spotify API website are all out of date; we found the endpoints through trial and\n    error of messing with the endpoints given on the website.\n  */\n  getArtist(artistId) {\n    //TODO: use the artist endpoint to make a request to express.\n    //Again, you may need to encode the artistId.\n    let encodedArtist = encodeURIComponent(artistId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artist\n    return this.sendRequestToExpress('/artist/' + encodedArtist).then(data => {\n      return new ArtistData(data);\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  getRelatedArtists(artistId) {\n    //TODO: use the related artist endpoint to make a request to express and return an array of artist data.\n    let resourcesRelatedArtistData;\n    let encodedArtist = encodeURIComponent(artistId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artists-related-artists\n    return this.sendRequestToExpress(\"/artist-related-artists/\" + encodedArtist).then(data => {\n      resourcesRelatedArtistData = data['artists'].map(element => {\n        return new ArtistData(element);\n      });\n      return resourcesRelatedArtistData;\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  getTopTracksForArtist(artistId) {\n    //TODO: use the top tracks endpoint to make a request to express.\n    let resourcesTracksArtistData;\n    let encodedArtist = encodeURIComponent(artistId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artists-top-tracks\n    return this.sendRequestToExpress('/artist-top-tracks/' + encodedArtist).then(data => {\n      resourcesTracksArtistData = data['tracks'].map(element => {\n        return new TrackData(element);\n      });\n      return resourcesTracksArtistData;\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  getAlbumsForArtist(artistId) {\n    //TODO: use the albums for an artist endpoint to make a request to express.\n    let resourcesAlbumsArtistData;\n    let encodedArtist = encodeURIComponent(artistId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artists-albums\n    return this.sendRequestToExpress(\"/artist-albums/\" + encodedArtist).then(data => {\n      resourcesAlbumsArtistData = data['items'].map(element => {\n        return new AlbumData(element);\n      });\n      return resourcesAlbumsArtistData;\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  getAlbum(albumId) {\n    //TODO: use the album endpoint to make a request to express.\n    let encodedAlbum = encodeURIComponent(albumId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-album\n    return this.sendRequestToExpress('/album/' + encodedAlbum).then(data => {\n      return new AlbumData(data);\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  getTracksForAlbum(albumId) {\n    //TODO: use the tracks for album endpoint to make a request to express.\n    let encodedAlbum = encodeURIComponent(albumId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-albums-tracks\n    return this.sendRequestToExpress('/album-tracks/' + encodedAlbum).then(data => {\n      return data['items'].map(function (element) {\n        return new TrackData(element);\n      });\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  getTrack(trackId) {\n    //TODO: use the track endpoint to make a request to express.\n    let encodedTrack = encodeURIComponent(trackId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-track\n    return this.sendRequestToExpress('/track/' + encodedTrack).then(data => {\n      return new TrackData(data);\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  getAudioFeaturesForTrack(trackId) {\n    //TODO: use the audio features for track endpoint to make a request to express.\n    let encodedTrack = encodeURIComponent(trackId);\n    //https://developer.spotify.com/documentation/web-api/reference/get-audio-features\n    return this.sendRequestToExpress('/track-audio-features/' + encodedTrack).then(data => {\n      let features = [];\n      for (let i = 0; i < TrackFeature.FeatureTypes.length; i++) {\n        let feature = TrackFeature.FeatureTypes[i];\n        features.push(new TrackFeature(feature, data[feature]));\n      }\n      return features;\n    }, err => {\n      console.log(err);\n      return err;\n    });\n  }\n  static #_ = this.ɵfac = function SpotifyService_Factory(t) {\n    return new (t || SpotifyService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SpotifyService,\n    factory: SpotifyService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["ArtistData","AlbumData","TrackData","ProfileData","TrackFeature","firstValueFrom","SpotifyService","constructor","http","expressBaseUrl","sendRequestToExpress","endpoint","get","then","response","err","aboutMe","data","searchFor","category","resource","resources","encodedResource","encodeURIComponent","map","element","console","log","getArtist","artistId","encodedArtist","getRelatedArtists","resourcesRelatedArtistData","getTopTracksForArtist","resourcesTracksArtistData","getAlbumsForArtist","resourcesAlbumsArtistData","getAlbum","albumId","encodedAlbum","getTracksForAlbum","getTrack","trackId","encodedTrack","getAudioFeaturesForTrack","features","i","FeatureTypes","length","feature","push","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["/Users/diegoguzman/Downloads/Spotify_Browser/client/src/app/services/spotify.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ArtistData } from '../data/artist-data';\nimport { AlbumData } from '../data/album-data';\nimport { TrackData } from '../data/track-data';\nimport { ResourceData } from '../data/resource-data';\nimport { ProfileData } from '../data/profile-data';\nimport { TrackFeature } from '../data/track-feature';\nimport { firstValueFrom } from 'rxjs';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SpotifyService {\n  expressBaseUrl:string = 'http://localhost:8888';\n\n\n  constructor(private http:HttpClient) { }\n\n\n  private sendRequestToExpress(endpoint:string):Promise<any> {\n    return firstValueFrom(this.http.get(this.expressBaseUrl + endpoint)).then((response) => {\n      return response;\n    }, (err) => {\n      return err;\n    });\n  }\n\n\n  aboutMe():Promise<ProfileData> {\n    return this.sendRequestToExpress('/me').then((data) => {\n      return new ProfileData(data);\n    });\n  }\n\n\n  searchFor(category:string, resource:string):Promise<ResourceData[]> {\n    let resources: ResourceData[]\n    let encodedResource = encodeURIComponent(resource);\n    return this.sendRequestToExpress('/search'+'/'+category+'/'+encodedResource).then((data) => {\n      \n      if(category=='artist'){\n        resources = data['artists']['items'].map((element) => {\n          return new ArtistData(element);\n        });\n \n      }\n      else if(category=='album'){\n        resources = data['albums']['items'].map((element) => {\n          return new AlbumData(element);\n        });\n \n      }\n      else if(category=='track'){\n        resources = data['tracks']['items'].map((element) => {\n          return new TrackData(element);\n        });\n \n      }\n      return resources;\n\n    },\n    (err) => {\n      console.log(err);\n      return err;\n    });\n  }\n\n\n\n  /*\n    The following get methods make requests to the Spotify API using the appropriate endpoints, then format the data into\n    an appropriate form to return it. If an error arises, it returns the error data instead and logs it to the console.\n    NOTE: the endpoints provided on the Spotify API website are all out of date; we found the endpoints through trial and\n    error of messing with the endpoints given on the website.\n  */\n\n  getArtist(artistId:string):Promise<ArtistData> {\n    //TODO: use the artist endpoint to make a request to express.\n    //Again, you may need to encode the artistId.\n    let encodedArtist = encodeURIComponent(artistId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artist\n    return this.sendRequestToExpress('/artist/'+encodedArtist).then((data) => {\n        return new ArtistData(data);\n\n    },\n    (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n\n\n  getRelatedArtists(artistId:string):Promise<ArtistData[]> {\n    //TODO: use the related artist endpoint to make a request to express and return an array of artist data.\n    let resourcesRelatedArtistData: ResourceData[]\n    let encodedArtist = encodeURIComponent(artistId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artists-related-artists\n    return this.sendRequestToExpress(\"/artist-related-artists/\"+encodedArtist).then((data) => {\n      resourcesRelatedArtistData = data['artists'].map((element) => {\n        return new ArtistData(element);\n      });\n      return resourcesRelatedArtistData;\n      \n    }, (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n\n\n  getTopTracksForArtist(artistId:string):Promise<TrackData[]> {\n    //TODO: use the top tracks endpoint to make a request to express.\n    let resourcesTracksArtistData: ResourceData[]\n    let encodedArtist = encodeURIComponent(artistId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artists-top-tracks\n    return this.sendRequestToExpress('/artist-top-tracks/'+encodedArtist).then((data) => {\n      resourcesTracksArtistData = data['tracks'].map((element) => {\n        return new TrackData(element);\n      });\n      return resourcesTracksArtistData;\n\n    }, (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n\n\n  getAlbumsForArtist(artistId:string):Promise<AlbumData[]> {\n    //TODO: use the albums for an artist endpoint to make a request to express.\n    let resourcesAlbumsArtistData: ResourceData[]\n    let encodedArtist = encodeURIComponent(artistId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-artists-albums\n    return this.sendRequestToExpress(\"/artist-albums/\" +encodedArtist).then((data) => {\n      resourcesAlbumsArtistData = data['items'].map((element) => {\n        return new AlbumData(element);\n      });\n      return resourcesAlbumsArtistData;\n\n    }, (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n\n\n  getAlbum(albumId:string):Promise<AlbumData> {\n    //TODO: use the album endpoint to make a request to express.\n    let encodedAlbum = encodeURIComponent(albumId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-album\n    return this.sendRequestToExpress('/album/'+encodedAlbum).then((data) => {\n      return new AlbumData(data);\n\n    }, (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n\n\n  getTracksForAlbum(albumId:string):Promise<TrackData[]> {\n    //TODO: use the tracks for album endpoint to make a request to express.\n    let encodedAlbum = encodeURIComponent(albumId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-an-albums-tracks\n    return this.sendRequestToExpress('/album-tracks/'+encodedAlbum).then((data) => {\n      return data['items'].map(function(element) {\n        return new TrackData(element);\n      })\n\n    }, (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n\n\n  getTrack(trackId:string):Promise<TrackData> {\n    //TODO: use the track endpoint to make a request to express.\n    let encodedTrack = encodeURIComponent(trackId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-track\n    return this.sendRequestToExpress('/track/'+encodedTrack).then((data) => {\n      return new TrackData(data);\n\n    }, (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n\n\n  getAudioFeaturesForTrack(trackId:string):Promise<TrackFeature[]> {\n    //TODO: use the audio features for track endpoint to make a request to express.\n    let encodedTrack = encodeURIComponent(trackId);\n\n    //https://developer.spotify.com/documentation/web-api/reference/get-audio-features\n    return this.sendRequestToExpress('/track-audio-features/'+encodedTrack).then((data) => {\n      let features = [];\n      for(let i=0; i < TrackFeature.FeatureTypes.length; i++) {\n        let feature = TrackFeature.FeatureTypes[i];\n        features.push(new TrackFeature(feature, data[feature]));\n      }\n      return features;\n\n    }, (err) => {\n      console.log(err);\n      return err;\n    })\n  }\n}\n\n\n\n\n//The Slack post made by Prof. Baldwin made Nov 3, 9:13AM\n//https://rxjs.dev/api/index/function/firstValueFrom\n//https://www.w3schools.com/js/js_promise.asp\n//https://www.w3schools.com/jsref/jsref_encodeuricomponent.asp\n//https://www.geeksforgeeks.org/why-we-use-then-method-in-javascript/#\n//https://ihechikara.com/posts/how-to-use-route-parameter-in-expressjs/\n//https://www.w3schools.com/jsref/jsref_map.asp\n\n\n//ENDPOINTS \n//https://developer.spotify.com/documentation/web-api/reference/get-an-artist\n//https://developer.spotify.com/documentation/web-api/reference/get-an-artists-related-artists\n//https://developer.spotify.com/documentation/web-api/reference/get-an-artists-albums\n//https://developer.spotify.com/documentation/web-api/reference/get-an-album\n//https://developer.spotify.com/documentation/web-api/reference/get-an-albums-tracks\n//https://developer.spotify.com/documentation/web-api/reference/get-track\n//https://developer.spotify.com/documentation/web-api/reference/get-audio-features\n"],"mappings":"AAEA,SAASA,UAAU,QAAQ,qBAAqB;AAChD,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,SAAS,QAAQ,oBAAoB;AAE9C,SAASC,WAAW,QAAQ,sBAAsB;AAClD,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,cAAc,QAAQ,MAAM;;;AAMrC,OAAM,MAAOC,cAAc;EAIzBC,YAAoBC,IAAe;IAAf,KAAAA,IAAI,GAAJA,IAAI;IAHxB,KAAAC,cAAc,GAAU,uBAAuB;EAGR;EAG/BC,oBAAoBA,CAACC,QAAe;IAC1C,OAAON,cAAc,CAAC,IAAI,CAACG,IAAI,CAACI,GAAG,CAAC,IAAI,CAACH,cAAc,GAAGE,QAAQ,CAAC,CAAC,CAACE,IAAI,CAAEC,QAAQ,IAAI;MACrF,OAAOA,QAAQ;IACjB,CAAC,EAAGC,GAAG,IAAI;MACT,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGAC,OAAOA,CAAA;IACL,OAAO,IAAI,CAACN,oBAAoB,CAAC,KAAK,CAAC,CAACG,IAAI,CAAEI,IAAI,IAAI;MACpD,OAAO,IAAId,WAAW,CAACc,IAAI,CAAC;IAC9B,CAAC,CAAC;EACJ;EAGAC,SAASA,CAACC,QAAe,EAAEC,QAAe;IACxC,IAAIC,SAAyB;IAC7B,IAAIC,eAAe,GAAGC,kBAAkB,CAACH,QAAQ,CAAC;IAClD,OAAO,IAAI,CAACV,oBAAoB,CAAC,SAAS,GAAC,GAAG,GAACS,QAAQ,GAAC,GAAG,GAACG,eAAe,CAAC,CAACT,IAAI,CAAEI,IAAI,IAAI;MAEzF,IAAGE,QAAQ,IAAE,QAAQ,EAAC;QACpBE,SAAS,GAAGJ,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAACO,GAAG,CAAEC,OAAO,IAAI;UACnD,OAAO,IAAIzB,UAAU,CAACyB,OAAO,CAAC;QAChC,CAAC,CAAC;OAEH,MACI,IAAGN,QAAQ,IAAE,OAAO,EAAC;QACxBE,SAAS,GAAGJ,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAACO,GAAG,CAAEC,OAAO,IAAI;UAClD,OAAO,IAAIxB,SAAS,CAACwB,OAAO,CAAC;QAC/B,CAAC,CAAC;OAEH,MACI,IAAGN,QAAQ,IAAE,OAAO,EAAC;QACxBE,SAAS,GAAGJ,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAACO,GAAG,CAAEC,OAAO,IAAI;UAClD,OAAO,IAAIvB,SAAS,CAACuB,OAAO,CAAC;QAC/B,CAAC,CAAC;;MAGJ,OAAOJ,SAAS;IAElB,CAAC,EACAN,GAAG,IAAI;MACNW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAIA;;;;;;EAOAa,SAASA,CAACC,QAAe;IACvB;IACA;IACA,IAAIC,aAAa,GAAGP,kBAAkB,CAACM,QAAQ,CAAC;IAEhD;IACA,OAAO,IAAI,CAACnB,oBAAoB,CAAC,UAAU,GAACoB,aAAa,CAAC,CAACjB,IAAI,CAAEI,IAAI,IAAI;MACrE,OAAO,IAAIjB,UAAU,CAACiB,IAAI,CAAC;IAE/B,CAAC,EACAF,GAAG,IAAI;MACNW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGAgB,iBAAiBA,CAACF,QAAe;IAC/B;IACA,IAAIG,0BAA0C;IAC9C,IAAIF,aAAa,GAAGP,kBAAkB,CAACM,QAAQ,CAAC;IAEhD;IACA,OAAO,IAAI,CAACnB,oBAAoB,CAAC,0BAA0B,GAACoB,aAAa,CAAC,CAACjB,IAAI,CAAEI,IAAI,IAAI;MACvFe,0BAA0B,GAAGf,IAAI,CAAC,SAAS,CAAC,CAACO,GAAG,CAAEC,OAAO,IAAI;QAC3D,OAAO,IAAIzB,UAAU,CAACyB,OAAO,CAAC;MAChC,CAAC,CAAC;MACF,OAAOO,0BAA0B;IAEnC,CAAC,EAAGjB,GAAG,IAAI;MACTW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGAkB,qBAAqBA,CAACJ,QAAe;IACnC;IACA,IAAIK,yBAAyC;IAC7C,IAAIJ,aAAa,GAAGP,kBAAkB,CAACM,QAAQ,CAAC;IAEhD;IACA,OAAO,IAAI,CAACnB,oBAAoB,CAAC,qBAAqB,GAACoB,aAAa,CAAC,CAACjB,IAAI,CAAEI,IAAI,IAAI;MAClFiB,yBAAyB,GAAGjB,IAAI,CAAC,QAAQ,CAAC,CAACO,GAAG,CAAEC,OAAO,IAAI;QACzD,OAAO,IAAIvB,SAAS,CAACuB,OAAO,CAAC;MAC/B,CAAC,CAAC;MACF,OAAOS,yBAAyB;IAElC,CAAC,EAAGnB,GAAG,IAAI;MACTW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGAoB,kBAAkBA,CAACN,QAAe;IAChC;IACA,IAAIO,yBAAyC;IAC7C,IAAIN,aAAa,GAAGP,kBAAkB,CAACM,QAAQ,CAAC;IAEhD;IACA,OAAO,IAAI,CAACnB,oBAAoB,CAAC,iBAAiB,GAAEoB,aAAa,CAAC,CAACjB,IAAI,CAAEI,IAAI,IAAI;MAC/EmB,yBAAyB,GAAGnB,IAAI,CAAC,OAAO,CAAC,CAACO,GAAG,CAAEC,OAAO,IAAI;QACxD,OAAO,IAAIxB,SAAS,CAACwB,OAAO,CAAC;MAC/B,CAAC,CAAC;MACF,OAAOW,yBAAyB;IAElC,CAAC,EAAGrB,GAAG,IAAI;MACTW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGAsB,QAAQA,CAACC,OAAc;IACrB;IACA,IAAIC,YAAY,GAAGhB,kBAAkB,CAACe,OAAO,CAAC;IAE9C;IACA,OAAO,IAAI,CAAC5B,oBAAoB,CAAC,SAAS,GAAC6B,YAAY,CAAC,CAAC1B,IAAI,CAAEI,IAAI,IAAI;MACrE,OAAO,IAAIhB,SAAS,CAACgB,IAAI,CAAC;IAE5B,CAAC,EAAGF,GAAG,IAAI;MACTW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGAyB,iBAAiBA,CAACF,OAAc;IAC9B;IACA,IAAIC,YAAY,GAAGhB,kBAAkB,CAACe,OAAO,CAAC;IAE9C;IACA,OAAO,IAAI,CAAC5B,oBAAoB,CAAC,gBAAgB,GAAC6B,YAAY,CAAC,CAAC1B,IAAI,CAAEI,IAAI,IAAI;MAC5E,OAAOA,IAAI,CAAC,OAAO,CAAC,CAACO,GAAG,CAAC,UAASC,OAAO;QACvC,OAAO,IAAIvB,SAAS,CAACuB,OAAO,CAAC;MAC/B,CAAC,CAAC;IAEJ,CAAC,EAAGV,GAAG,IAAI;MACTW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGA0B,QAAQA,CAACC,OAAc;IACrB;IACA,IAAIC,YAAY,GAAGpB,kBAAkB,CAACmB,OAAO,CAAC;IAE9C;IACA,OAAO,IAAI,CAAChC,oBAAoB,CAAC,SAAS,GAACiC,YAAY,CAAC,CAAC9B,IAAI,CAAEI,IAAI,IAAI;MACrE,OAAO,IAAIf,SAAS,CAACe,IAAI,CAAC;IAE5B,CAAC,EAAGF,GAAG,IAAI;MACTW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAGA6B,wBAAwBA,CAACF,OAAc;IACrC;IACA,IAAIC,YAAY,GAAGpB,kBAAkB,CAACmB,OAAO,CAAC;IAE9C;IACA,OAAO,IAAI,CAAChC,oBAAoB,CAAC,wBAAwB,GAACiC,YAAY,CAAC,CAAC9B,IAAI,CAAEI,IAAI,IAAI;MACpF,IAAI4B,QAAQ,GAAG,EAAE;MACjB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAG1C,YAAY,CAAC2C,YAAY,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;QACtD,IAAIG,OAAO,GAAG7C,YAAY,CAAC2C,YAAY,CAACD,CAAC,CAAC;QAC1CD,QAAQ,CAACK,IAAI,CAAC,IAAI9C,YAAY,CAAC6C,OAAO,EAAEhC,IAAI,CAACgC,OAAO,CAAC,CAAC,CAAC;;MAEzD,OAAOJ,QAAQ;IAEjB,CAAC,EAAG9B,GAAG,IAAI;MACTW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChB,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ;EAAC,QAAAoC,CAAA,G;qBA1MU7C,cAAc,EAAA8C,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAdlD,cAAc;IAAAmD,OAAA,EAAdnD,cAAc,CAAAoD,IAAA;IAAAC,UAAA,EAFb;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}